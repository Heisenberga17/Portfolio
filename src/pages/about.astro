---
import BaseLayout from '@layouts/BaseLayout.astro';
import Section from '@components/astro/Section.astro';
import { skills, skillCategories } from '@data/skills';

const grouped = Object.fromEntries(
  skillCategories.map((cat) => [cat, skills.filter((s) => s.category === cat)])
);

const categoryLabels: Record<string, string> = {
  frontend: 'Frontend',
  backend: 'Backend',
  tools: 'Tools',
  platforms: 'Platforms',
};
---

<BaseLayout
  title="About | Heisen's Den"
  description="Learn more about Heisen's — developer and entrepreneur based in Panama City."
>
  <!-- Bio Section -->
  <Section>
    <div class="grid gap-12 lg:grid-cols-5 items-start">
      <!-- Photo -->
      <div class="lg:col-span-2 flex justify-center lg:justify-start">
        <div
          class="relative w-full max-w-xs aspect-[3/4] rounded-2xl bg-bg-card border border-border overflow-hidden"
        >
          <img
            src="/images/heisen.jpg"
            alt="Heisen's branding"
            class="w-full h-full object-cover"
            loading="eager"
          />
          <div class="absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-accent-primary rounded-tl-2xl"></div>
          <div class="absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-accent-secondary rounded-br-2xl"></div>
        </div>
      </div>

      <!-- Bio text -->
      <div class="lg:col-span-3">
        <h1 class="text-4xl md:text-5xl font-display font-bold leading-tight mb-2">
          Heisen's
        </h1>
        <p class="text-accent-secondary font-mono text-sm mb-8 flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
          Panama City, Panama
        </p>

        <div class="space-y-4 text-text-secondary leading-relaxed">
          <p>
            Self-taught developer, entrepreneur, and the kind of person who'd
            rather ship something imperfect than plan something forever. I build
            things that work — not just technically, but as products people
            actually use and pay for.
          </p>
          <p>
            Right now I'm running three projects: <strong class="text-text-primary">Massport</strong>,
            a platform for managing football tournaments across Panama;
            <strong class="text-text-primary">MicroClean</strong>, a cleaning service business;
            and <strong class="text-text-primary">Casa 24 Records</strong>, an independent music
            collective I founded.
          </p>
          <p>
            My stack is React, Astro, TypeScript, and Cloudflare's edge platform.
            I like things fast, simple, and deployed.
          </p>
        </div>
      </div>
    </div>
  </Section>

  <!-- What I Do -->
  <Section background="secondary">
    <h2 class="text-2xl md:text-3xl font-bold leading-tight mb-10">What I do</h2>

    <div class="space-y-10 max-w-2xl">
      <div class="flex gap-6">
        <span class="text-accent-secondary font-mono text-sm mt-1 shrink-0">01</span>
        <div>
          <h3 class="font-heading text-lg font-semibold mb-2">I build businesses, not just apps</h3>
          <p class="text-text-secondary text-sm leading-relaxed">
            Massport started as a side project and turned into the go-to tournament
            management tool in Panama. MicroClean runs on a system I built from scratch.
            The code is a means to an end — the end is a working business.
          </p>
        </div>
      </div>

      <div class="flex gap-6">
        <span class="text-accent-secondary font-mono text-sm mt-1 shrink-0">02</span>
        <div>
          <h3 class="font-heading text-lg font-semibold mb-2">I write code that ships</h3>
          <p class="text-text-secondary text-sm leading-relaxed">
            Full-stack with a frontend lean. I deploy on the edge, keep bundles
            small, and don't add complexity unless it solves a real problem. If it
            works and it's fast, it's good enough.
          </p>
        </div>
      </div>

      <div class="flex gap-6">
        <span class="text-accent-secondary font-mono text-sm mt-1 shrink-0">03</span>
        <div>
          <h3 class="font-heading text-lg font-semibold mb-2">I make music on the side</h3>
          <p class="text-text-secondary text-sm leading-relaxed">
            Casa 24 Records is the creative outlet. I handle the artistic direction,
            digital distribution, and the platform side — blending independent music
            with the tools to get it heard.
          </p>
        </div>
      </div>
    </div>
  </Section>

  <!-- Skills -->
  <Section id="skills">
    <h2 class="text-2xl md:text-3xl font-bold leading-tight mb-10">Tools I use</h2>

    <div class="grid gap-10 md:grid-cols-2">
      {skillCategories.map((cat) => (
        <div>
          <h3 class="font-heading text-sm font-semibold text-text-secondary uppercase tracking-wider mb-4">
            {categoryLabels[cat]}
          </h3>
          <div class="flex flex-wrap gap-2">
            {grouped[cat].map((skill) => (
              <span class="px-3 py-1.5 rounded-lg bg-bg-card border border-border text-sm text-text-primary font-medium">
                {skill.name}
              </span>
            ))}
          </div>
        </div>
      ))}
    </div>
  </Section>
</BaseLayout>
